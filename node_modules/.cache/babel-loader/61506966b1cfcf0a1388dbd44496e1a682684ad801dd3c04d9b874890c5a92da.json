{"ast":null,"code":"var _jsxFileName = \"/Users/crescendo/Downloads/edu-quest/src/pages/MathPage/index.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport { PageLoader, MathGame, PageHeader } from '../../components';\nimport { fetchMathData } from '../../mutations';\nimport { StoreContext } from '../../store';\nimport { finishMathGame, retryMathGame } from '../../store/actions';\nimport { ResultPage } from '../../pages';\nimport './style.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MathPage() {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useContext(StoreContext);\n  const {\n    gameData,\n    gameFinished,\n    finalScore\n  } = state.math;\n  useEffect(() => {\n    fetchMathData(dispatch);\n  }, [dispatch]);\n  const handleFinish = score => {\n    finishMathGame(dispatch, score);\n  };\n  const handleRetry = () => {\n    retryMathGame(dispatch);\n    fetchMathData(dispatch);\n  };\n  console.error('gameData', state);\n  console.error('MathPage gameData', JSON.stringify(gameData, null, 2));\n  if (gameData.fetching) {\n    return /*#__PURE__*/_jsxDEV(PageLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n  if (!gameData.data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Failed to load data. Please try again later.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"math-page\",\n    children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n      text: \"Number Crunching Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), !gameFinished ? /*#__PURE__*/_jsxDEV(MathGame, {\n      roundsData: gameData.data,\n      onFinish: handleFinish\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ResultPage, {\n      score: finalScore,\n      totalQuestions: gameData.data.reduce((total, round) => total + round.questions.length, 0),\n      totalRounds: gameData.data.length,\n      onRetry: handleRetry,\n      scoringMode: \"perQuestion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"circles\",\n      children: Array.from({\n        length: 10\n      }).map((_, index) => /*#__PURE__*/_jsxDEV(\"li\", {}, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(MathPage, \"tMjQDhNvN1vDEz7QS76YEprP+qA=\");\n_c = MathPage;\nexport default MathPage;\nvar _c;\n$RefreshReg$(_c, \"MathPage\");","map":{"version":3,"names":["React","useContext","useEffect","PageLoader","MathGame","PageHeader","fetchMathData","StoreContext","finishMathGame","retryMathGame","ResultPage","jsxDEV","_jsxDEV","MathPage","_s","state","dispatch","gameData","gameFinished","finalScore","math","handleFinish","score","handleRetry","console","error","JSON","stringify","fetching","fileName","_jsxFileName","lineNumber","columnNumber","data","children","className","text","roundsData","onFinish","totalQuestions","reduce","total","round","questions","length","totalRounds","onRetry","scoringMode","Array","from","map","_","index","_c","$RefreshReg$"],"sources":["/Users/crescendo/Downloads/edu-quest/src/pages/MathPage/index.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { PageLoader, MathGame, PageHeader } from '../../components';\nimport { fetchMathData } from '../../mutations';\nimport { StoreContext } from '../../store';\nimport { finishMathGame, retryMathGame } from '../../store/actions';\nimport { ResultPage } from '../../pages'\nimport './style.scss'\n\nfunction MathPage() {\n  const { state, dispatch } = useContext(StoreContext);\n  const { gameData, gameFinished, finalScore } = state.math;\n\n  useEffect(() => {\n    fetchMathData(dispatch);\n  }, [dispatch]);\n\n  const handleFinish = (score) => {\n    finishMathGame(dispatch, score);\n  };\n\n  const handleRetry = () => {\n    retryMathGame(dispatch);\n    fetchMathData(dispatch);\n  };\n  console.error('gameData', state)\n  console.error('MathPage gameData', JSON.stringify(gameData, null, 2));\n\n  if (gameData.fetching) {\n    return <PageLoader />;\n  }\n\n  if (!gameData.data) {\n    return <div>Failed to load data. Please try again later.</div>;\n  }\n\n\n  return (\n    <div className=\"math-page\">\n      <PageHeader text=\"Number Crunching Game\" />\n      {!gameFinished ? (\n        <MathGame roundsData={gameData.data} onFinish={handleFinish} />\n      ) : (\n        <ResultPage\n          score={finalScore}\n          totalQuestions={gameData.data.reduce((total, round) => total + round.questions.length, 0)}\n          totalRounds={gameData.data.length}\n          onRetry={handleRetry}\n          scoringMode=\"perQuestion\"\n        />\n\n      )}\n\n      <ul className=\"circles\">\n        {Array.from({ length: 10 }).map((_, index) => (\n          <li key={index}></li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default MathPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}